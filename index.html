<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
  <title>atardecer con amigos 췅 recuerdo eterno</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #000;
      color: #f0eae3;
      line-height: 1.5;
      scroll-behavior: smooth;
      -webkit-tap-highlight-color: transparent;
    }

    /* ===== INTRO NEGRO ABSOLUTO + APARICI칍N LENTA ===== */
    .intro {
      min-height: 100vh;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 1.5rem;
      position: relative;
      z-index: 20;
    }

    .intro-content {
      max-width: 800px;
    }

    .intro h1,
    .intro p,
    .intro .btn {
      opacity: 0;
      transform: translateY(30px);
      animation: aparecerSuave 1.4s ease forwards;
    }

    .intro h1 {
      animation-delay: 0.6s;
      font-size: clamp(2.8rem, 12vw, 6rem);
      font-weight: 800;
      background: linear-gradient(145deg, #fff, #ffe6ed, #fff3b5);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      letter-spacing: 2px;
      margin-bottom: 1rem;
      text-shadow: 0 0 25px #ffaa88;
    }

    .intro p {
      animation-delay: 1.2s;
      font-size: clamp(1.5rem, 5vw, 2.2rem);
      color: #ffcfc0;
      margin-bottom: 2.5rem;
      font-weight: 300;
      text-shadow: 0 0 12px #ff9898;
    }

    .intro .btn {
      animation-delay: 1.8s;
      display: inline-block;
      background: transparent;
      color: #fff5e6;
      font-size: clamp(1.8rem, 6vw, 2.4rem);
      font-weight: 600;
      padding: 1rem 3rem;
      border: 4px solid #ffaa80;
      border-radius: 80px;
      backdrop-filter: blur(4px);
      box-shadow: 0 0 35px #ffaa80;
      cursor: pointer;
      transition: 0.3s;
      text-transform: uppercase;
      letter-spacing: 4px;
      width: fit-content;
      margin: 0 auto;
    }

    .intro .btn:hover {
      background: #ffaa80;
      color: #1a0c0a;
      box-shadow: 0 0 70px #ffaa80;
      transform: scale(1.1);
      border-color: #fff;
    }

    @keyframes aparecerSuave {
      0% { opacity: 0; transform: translateY(40px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    /* ===== CONFETI CANVAS ===== */
    .confeti-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9999;
      opacity: 0;
      transition: opacity 0.2s;
    }
    .confeti-canvas.activo {
      opacity: 1;
    }

    /* ===== L칈NEA DEL TIEMPO (20 FOTOS) ===== */
    .timeline-section {
      background: #0d080a;
      padding: 4rem 1rem 3rem;
    }

    .timeline-container {
      max-width: 1000px;
      margin: 0 auto;
      position: relative;
    }

    .timeline-container::before {
      content: '';
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: 4px;
      height: 100%;
      background: linear-gradient(180deg, #ffaa80, #ffccb3, #ffaa80);
      border-radius: 10px;
      box-shadow: 0 0 25px #ff8866;
    }

    .timeline-item {
      display: flex;
      justify-content: flex-start;
      align-items: center;
      margin-bottom: 4rem;
      position: relative;
      width: 100%;
      opacity: 0;
      transform: translateY(40px);
      transition: opacity 0.9s cubic-bezier(0.15, 0.9, 0.25, 1), transform 0.9s ease;
    }

    .timeline-item.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .timeline-item:nth-child(odd) {
      flex-direction: row;
    }
    .timeline-item:nth-child(even) {
      flex-direction: row-reverse;
    }

    .timeline-content {
      width: 45%;
      background: rgba(40, 25, 22, 0.9);
      backdrop-filter: blur(8px);
      border: 2px solid #ffaa80;
      border-radius: 50px 12px 50px 12px;
      padding: 1.2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      box-shadow: 0 30px 30px -15px #331a14;
      transition: 0.2s;
      cursor: pointer;
    }

    .timeline-item:nth-child(odd) .timeline-content {
      border-radius: 12px 50px 12px 50px;
    }

    .timeline-content:hover {
      transform: scale(1.02);
      border-color: #ffd9c0;
      box-shadow: 0 35px 40px -12px #b24d2e;
    }

    .timeline-content img {
      width: 160px;
      height: 160px;
      object-fit: cover;
      border-radius: 40px 8px 40px 8px;
      border: 4px solid #ffcbb2;
      margin-bottom: 0.7rem;
      box-shadow: 0 15px 20px #2f140e;
      transition: transform 0.2s;
      pointer-events: none;
    }

    .timeline-content p {
      font-size: 1.3rem;
      font-weight: 500;
      color: #fff2e6;
      text-align: center;
      padding: 0.5rem 0.8rem;
      background: #3f2822b3;
      border-radius: 60px;
      width: 100%;
      border: 1px solid #ffb699;
      word-break: break-word;
    }

    .timeline-item::after {
      content: '';
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 26px;
      height: 26px;
      background: #ff9966;
      border: 3px solid #ffebd2;
      border-radius: 50%;
      z-index: 5;
      box-shadow: 0 0 30px #ff9966;
      transition: 0.2s;
    }

    /* ===== MODAL PARA IMAGEN EXPANDIDA ===== */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.95);
      backdrop-filter: blur(5px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s, visibility 0.3s;
      padding: 1rem;
    }

    .modal-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      max-width: 90%;
      max-height: 80%;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 0 40px #ffaa80, 0 0 80px #ff7b3a;
      border: 4px solid #ffb48a;
      background: #000;
    }

    .modal-content img {
      width: 100%;
      height: auto;
      display: block;
      object-fit: contain;
      max-height: 80vh;
    }

    .modal-close {
      position: absolute;
      top: 20px;
      right: 30px;
      font-size: 3rem;
      color: #ffd9c0;
      cursor: pointer;
      text-shadow: 0 0 20px #ff7b3a;
      z-index: 10001;
      background: rgba(0,0,0,0.3);
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 300;
      line-height: 1;
    }

    .modal-close:active {
      transform: scale(0.9);
    }

    /* ===== GRUPO FINAL CON ATARDECER MEJORADO ===== */
    .atardecer-section {
      background: linear-gradient(180deg, #0a0503 0%, #2b1a12 30%, #c96f2d 70%, #f9b56b 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-end;
      padding: 2rem 1rem 3rem;
      position: relative;
      overflow: hidden;
    }

    /* Sol m치s grande y radiante */
    .sol {
      position: absolute;
      bottom: 15%;
      right: 5%;
      width: 260px;
      height: 260px;
      background: radial-gradient(circle at 35% 35%, #fff9e6, #ffae6a, #ff6a2c);
      border-radius: 50%;
      box-shadow: 0 0 200px #ffb56b, 0 0 350px #ff7e30;
      z-index: 2;
      animation: latidoSol 7s infinite alternate ease-in-out;
    }

    @keyframes latidoSol {
      0% { transform: scale(1); opacity: 0.95; box-shadow: 0 0 200px #ffb56b; }
      100% { transform: scale(1.1); opacity: 1; box-shadow: 0 0 280px #ffb56b, 0 0 400px #ff7e30; }
    }

    /* Reflejo del sol en el agua/suelo */
    .reflejo {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 180px;
      background: radial-gradient(ellipse at 70% 100%, #ffb56b, transparent 70%);
      opacity: 0.5;
      z-index: 1;
      filter: blur(20px);
    }

    /* Base negra donde est치n parados los personajes */
    .suelo-negro {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 60px;
      background: #0f0c0a;
      box-shadow: 0 -10px 30px #000;
      z-index: 3;
      border-top: 3px solid #ffa766;
    }

    .grupo-siluetas {
      display: flex;
      align-items: flex-end;
      justify-content: center;
      gap: 1rem 2rem;
      flex-wrap: wrap;
      margin-bottom: 0.5rem;
      z-index: 10;
      position: relative;
      max-width: 800px;
      padding-bottom: 10px;
    }

    .persona {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 80px;
      filter: drop-shadow(0 20px 12px #27150e);
      transform-origin: bottom center;
      animation: mecer 3s infinite alternate ease-in-out;
    }

    /* diferentes retardos para que no se muevan todos igual */
    .persona:nth-child(1) { animation-delay: 0s; }
    .persona:nth-child(2) { animation-delay: 0.5s; }
    .persona:nth-child(3) { animation-delay: 0.2s; }
    .persona:nth-child(4) { animation-delay: 0.7s; }
    .persona:nth-child(5) { animation-delay: 0.3s; }

    @keyframes mecer {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(1.5deg); }
    }

    .cabeza {
      width: 48px;
      height: 48px;
      background: #1f130e;
      border-radius: 50%;
      border: 3px solid #ffccaa;
      margin-bottom: 2px;
      z-index: 2;
      box-shadow: inset -3px -3px 8px #00000055;
    }

    .cuerpo {
      width: 60px;
      height: 90px;
      background: #1f130e;
      border-radius: 40px 40px 20px 20px;
      border: 3px solid #ffccaa;
      border-top: none;
      position: relative;
      margin-top: -5px;
      box-shadow: inset -3px -3px 8px #00000055;
    }

    /* variantes de tono para cada persona */
    .persona:nth-child(2) .cabeza { background: #2b1d15; }
    .persona:nth-child(2) .cuerpo { background: #2b1d15; width: 63px; height: 95px; }
    .persona:nth-child(3) .cabeza { background: #1a120e; width: 45px; height: 45px; }
    .persona:nth-child(3) .cuerpo { background: #1a120e; width: 57px; height: 85px; }
    .persona:nth-child(4) .cabeza { background: #2b1b13; width: 50px; height: 50px; }
    .persona:nth-child(4) .cuerpo { background: #2b1b13; width: 62px; height: 92px; }
    .persona:nth-child(5) .cabeza { background: #201812; width: 46px; height: 46px; }
    .persona:nth-child(5) .cuerpo { background: #201812; width: 58px; height: 88px; }

    .mensaje-final {
      text-align: center;
      z-index: 20;
      background: rgba(0,0,0,0.4);
      backdrop-filter: blur(10px);
      padding: 1.2rem 2rem;
      border-radius: 70px;
      border: 3px solid #ffb48a;
      margin-top: 2rem;
      max-width: 90%;
      box-shadow: 0 0 40px #ff7b3a33;
    }

    .mensaje-final h2 {
      font-size: clamp(2rem, 7vw, 3.8rem);
      color: #fff3e0;
      text-shadow: 0 0 20px #ff9f6e;
      line-height: 1.2;
    }

    .mensaje-final p {
      font-size: clamp(1.4rem, 5vw, 2.2rem);
      color: #ffe6d5;
      margin-top: 0.5rem;
      font-weight: 300;
    }

    /* responsive timeline m칩vil */
    @media (max-width: 700px) {
      .timeline-container::before {
        left: 20px;
      }
      .timeline-item {
        flex-direction: row !important;
        justify-content: flex-start;
        margin-left: 10px;
      }
      .timeline-item::after {
        left: 8px;
        transform: translateY(-50%);
        top: 50%;
        width: 22px;
        height: 22px;
      }
      .timeline-content {
        width: calc(100% - 60px);
        margin-left: 45px;
        padding: 0.8rem;
      }
      .timeline-content img {
        width: 120px;
        height: 120px;
      }
      .timeline-content p {
        font-size: 1.1rem;
      }
    }

    /* ajustes para el atardecer en m칩vil */
    @media (max-width: 600px) {
      .sol {
        width: 180px;
        height: 180px;
        bottom: 18%;
        right: 2%;
      }
      .reflejo {
        height: 120px;
      }
      .persona {
        width: 65px;
      }
      .cabeza {
        width: 40px;
        height: 40px;
      }
      .cuerpo {
        width: 50px;
        height: 75px;
      }
    }

    footer {
      background: #0a0305;
      padding: 1.5rem;
      text-align: center;
      color: #ffcfd8;
      border-top: 1px solid #39242b;
      font-size: 1.1rem;
    }

    #bg-audio { display: none; }
  </style>
</head>
<body>

  <!-- INTRO NEGRA -->
  <div class="intro">
    <div class="intro-content">
      <h1>M치s que amigos, hermanos</h1>
      <p>Historias que nunca olvidaremos</p>
      <button class="btn" id="startBtn">Empezar</button>
    </div>
  </div>

  <!-- LIENZO CONFETI -->
  <canvas id="confetiCanvas" class="confeti-canvas"></canvas>

  <!-- L칈NEA DEL TIEMPO -->
  <section class="timeline-section" id="timeline">
    <div class="timeline-container" id="timelineContainer"></div>
  </section>

  <!-- GRUPO FINAL ATARDECER CON REFLEJO Y BASE NEGRA -->
  <section class="atardecer-section">
    <div class="sol"></div>
    <div class="reflejo"></div>
    <div class="suelo-negro"></div>
    <div class="grupo-siluetas">
      <div class="persona"><div class="cabeza"></div><div class="cuerpo"></div></div>
      <div class="persona"><div class="cabeza"></div><div class="cuerpo"></div></div>
      <div class="persona"><div class="cabeza"></div><div class="cuerpo"></div></div>
      <div class="persona"><div class="cabeza"></div><div class="cuerpo"></div></div>
      <div class="persona"><div class="cabeza"></div><div class="cuerpo"></div></div>
    </div>
    <div class="mensaje-final">
      <h2>Los quiero mucho Grupito</h2>
      <p>Feliz d칤a de la amistad! - Atte: Gabri游눜</p>
    </div>
  </section>

  <footer>
    <pCcon todo mi coraz칩n, para ustedes 췅 siempre 仇벒잺 - Atte: Gabri</p>
  </footer>

  <!-- MODAL PARA IMAGEN EXPANDIDA -->
  <div id="modalOverlay" class="modal-overlay">
    <span class="modal-close" id="modalClose">&times;</span>
    <div class="modal-content" id="modalContent">
      <img src="" alt="ampliada" id="modalImg">
    </div>
  </div>

  <audio id="bg-audio" loop preload="auto">
    <source src="./multimedia/Cancion.mp3" type="audio/mpeg">
  </audio>

  <script>
    (function() {
      // ===== GENERAR 20 TARJETAS =====
      const nombres = [
        "19 de junio 2023", "29 de junio 2023", "26 de agost 2023", "12 de dic 23", "26 de dic 2023",
        "12 de sept 2024", "10 de oct 2024", "12 de oct 2024","28 de enero 2025", "18 de oct 2025", "18 de oct 2025",
        "7 de agost 2025", "3 de sept 2025", "20 de nov 2025", " ", "8 de agost 2025",
        "3 de dic 2025", "12 de dic 2025", "7 de febrero 2026", "Gracias x todo"
      ];

      const frases = [
        "춰De las primeras fotos, {nombre}!",
        "Era bonito estar en las amacas, {nombre} 游눪",
        "{nombre}, primera ves que comiamos juntos",
        "Primera Salida con todos, {nombre}",
        "Ame este dia la verdad, {nombre}",
        "Cuando se fue la luz 5 veces, {nombre}",
        "{nombre}, nuestro primer WorldCamp",
        "{nombre}, primer ultimo cuatri del a침o",
        "Estoy feliz que mis mejores dias las paso con ustedes, {nombre} 仇벒잺",
        "Aunque la musica estaba fuerte, estuvo bonito, {nombre}",
        "Otra que la verdad quedo bonita, {nombre}",
        "Les juro que ame este dia, {nombre}",
        "{nombre}, Una cena despues de una gran victoria con Fidecolab",
        "Una gira que me encanto ir con todos, {nombre}",
        "50% bien y 25% por ahi, {nombre}",
        "Cada ves que estoy con ustedes realmente soy feliz, {nombre}",
        "Les quiero mucho, enserio la pasamos en risas y lo logramos, {nombre}",
        "La victoriaaaa, {nombre}",
        "Nos falto unooo, {nombre}",
        "{nombre}, gracias por hacerme feliz y apoyarme"
      ];

      const container = document.getElementById('timelineContainer');
      container.innerHTML = '';

      for (let i = 0; i < nombres.length; i++) {
        const item = document.createElement('div');
        item.className = 'timeline-item';

        const contentDiv = document.createElement('div');
        contentDiv.className = 'timeline-content';

          const img = document.createElement('img');
          img.src = `./multimedia/Imagen${i}.jpeg`;
          img.alt = `Foto de ${nombres[i]}`;
          img.loading = 'lazy';

        const fraseBase = frases[i % frases.length];
        const fraseFinal = fraseBase.replace('{nombre}', nombres[i]);

        const parrafo = document.createElement('p');
        parrafo.textContent = fraseFinal;

        contentDiv.appendChild(img);
        contentDiv.appendChild(parrafo);
        item.appendChild(contentDiv);
        container.appendChild(item);
      }

      // ===== OBSERVER PARA VISIBILIDAD =====
      const items = document.querySelectorAll('.timeline-item');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, { threshold: 0.2, rootMargin: '0px 0px -40px 0px' });

      items.forEach(item => observer.observe(item));

      window.addEventListener('load', () => {
        items.forEach(item => {
          const rect = item.getBoundingClientRect();
          const windowHeight = window.innerHeight || document.documentElement.clientHeight;
          if (rect.top < windowHeight - 80) {
            item.classList.add('visible');
          }
        });
      });

      // ===== MODAL PARA EXPANDIR IMAGEN =====
      const modalOverlay = document.getElementById('modalOverlay');
      const modalImg = document.getElementById('modalImg');
      const modalClose = document.getElementById('modalClose');

      document.querySelectorAll('.timeline-content').forEach((card) => {
        card.addEventListener('click', (e) => {
          const imgSrc = card.querySelector('img').src;
          modalImg.src = imgSrc;
          modalOverlay.classList.add('active');
        });
      });

      modalClose.addEventListener('click', () => {
        modalOverlay.classList.remove('active');
      });

      modalOverlay.addEventListener('click', (e) => {
        if (e.target === modalOverlay) {
          modalOverlay.classList.remove('active');
        }
      });

      // ===== BOT칍N EMPEZAR: EFECTO CONFETI + M칔SICA + SCROLL =====
      const startBtn = document.getElementById('startBtn');
      const audio = document.getElementById('bg-audio');
      const canvas = document.getElementById('confetiCanvas');
      const ctx = canvas.getContext('2d');
      let animationId = null;
      let particles = [];

      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
      window.addEventListener('resize', resizeCanvas);
      resizeCanvas();

      function lanzarConfeti() {
        const colores = ['#ffaa80', '#ffd966', '#ffb3ba', '#c4e0ff', '#b3ffb3', '#ffccff'];
        particles = [];
        for (let i = 0; i < 130; i++) {
          particles.push({
            x: canvas.width / 2,
            y: canvas.height / 2,
            vx: (Math.random() - 0.5) * 14,
            vy: (Math.random() - 1.6) * 12 - 4,
            tama침o: Math.random() * 10 + 5,
            color: colores[Math.floor(Math.random() * colores.length)],
            rotacion: Math.random() * 360,
            vida: 1
          });
        }

        canvas.classList.add('activo');

        function dibujar() {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          let vivos = 0;
          for (let p of particles) {
            p.x += p.vx;
            p.y += p.vy;
            p.vy += 0.2;
            p.vx *= 0.99;
            p.rotacion += 2;
            p.vida -= 0.004;
            if (p.vida <= 0 || p.y > canvas.height + 50) continue;
            vivos++;

            ctx.save();
            ctx.translate(p.x, p.y);
            ctx.rotate((p.rotacion * Math.PI) / 180);
            ctx.fillStyle = p.color;
            ctx.fillRect(-p.tama침o / 2, -p.tama침o / 2, p.tama침o, p.tama침o);
            ctx.restore();
          }

          if (vivos > 0) {
            animationId = requestAnimationFrame(dibujar);
          } else {
            canvas.classList.remove('activo');
            cancelAnimationFrame(animationId);
          }
        }
        dibujar();
      }

      startBtn.addEventListener('click', () => {
        document.body.style.backgroundColor = '#ffeedd';
        setTimeout(() => { document.body.style.backgroundColor = ''; }, 200);

        lanzarConfeti();
        document.getElementById('timeline').scrollIntoView({ behavior: 'smooth' });
        audio.play().catch(e => console.log('Audio no iniciado', e));
      });

    })();
  </script>
</body>
</html>